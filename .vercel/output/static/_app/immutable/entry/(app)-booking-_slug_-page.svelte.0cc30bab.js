import{S as ea,i as sa,s as ta,a as u,y as it,k as l,q as g,c as h,z as nt,l as o,m as r,r as v,h as t,n as c,b as M,A as ft,G as e,K as $t,u as F,g as ct,d as dt,B as ut,I as Es,L as aa,H as la}from"../chunks/index.db2b4dea.js";import{g as oa}from"../chunks/index.f5d964d8.js";import{p as ra}from"../chunks/stores.8dce5407.js";import{s as ia,c as na}from"../chunks/clickOutside.c51b3379.js";import{I as fa,i as ca,c as Jt,a as da}from"../chunks/stores.b4eef40c.js";import{U as ua}from"../chunks/User.65ced62f.js";import{T as ha,t as ma}from"../chunks/Toaster.35735b00.js";function Qt(f){let i;return{c(){i=l("div"),this.h()},l(a){i=o(a,"DIV",{class:!0}),r(i).forEach(t),this.h()},h(){c(i,"class","fixed z-20 h-full w-full bg-black opacity-50")},m(a,p){M(a,i,p)},d(a){a&&t(i)}}}function Wt(f){let i,a;return{c(){i=l("span"),this.h()},l(p){i=o(p,"SPAN",{class:!0}),r(i).forEach(t),this.h()},h(){c(i,"class",a="absolute inline-flex h-2 w-2 animate-ping rounded-full "+f[1].bgColor)},m(p,E){M(p,i,E)},p(p,E){E&2&&a!==(a="absolute inline-flex h-2 w-2 animate-ping rounded-full "+p[1].bgColor)&&c(i,"class",a)},d(p){p&&t(i)}}}function Xt(f){let i,a,p,E;return{c(){i=l("button"),a=g("Delete"),this.h()},l(k){i=o(k,"BUTTON",{class:!0});var b=r(i);a=v(b,"Delete"),b.forEach(t),this.h()},h(){c(i,"class","rounded-md bg-delete px-4 py-2 text-white transition-colors hover:bg-red-600")},m(k,b){M(k,i,b),e(i,a),p||(E=$t(i,"click",f[6]),p=!0)},p:la,d(k){k&&t(i),p=!1,E()}}}function Yt(f){var D;let i,a,p,E,k,b=((D=f[0].booking)==null?void 0:D.cizitenshipOfFamilyMember)+"",N;return{c(){i=l("div"),a=l("h4"),p=g("Citizenship of Family Member"),E=u(),k=l("span"),N=g(b),this.h()},l(n){i=o(n,"DIV",{});var w=r(i);a=o(w,"H4",{class:!0});var V=r(a);p=v(V,"Citizenship of Family Member"),V.forEach(t),E=h(w),k=o(w,"SPAN",{class:!0});var C=r(k);N=v(C,b),C.forEach(t),w.forEach(t),this.h()},h(){c(a,"class","text-gray-500"),c(k,"class","font-medium")},m(n,w){M(n,i,w),e(i,a),e(a,p),e(i,E),e(i,k),e(k,N)},p(n,w){var V;w&1&&b!==(b=((V=n[0].booking)==null?void 0:V.cizitenshipOfFamilyMember)+"")&&F(N,b)},d(n){n&&t(i)}}}function Zt(f){var D;let i,a,p,E,k,b=((D=f[0].booking)==null?void 0:D.numberOfCurrentVisa)+"",N;return{c(){i=l("div"),a=l("h4"),p=g("Number of current visa"),E=u(),k=l("span"),N=g(b),this.h()},l(n){i=o(n,"DIV",{});var w=r(i);a=o(w,"H4",{class:!0});var V=r(a);p=v(V,"Number of current visa"),V.forEach(t),E=h(w),k=o(w,"SPAN",{class:!0});var C=r(k);N=v(C,b),C.forEach(t),w.forEach(t),this.h()},h(){c(a,"class","text-gray-500"),c(k,"class","font-medium")},m(n,w){M(n,i,w),e(i,a),e(a,p),e(i,E),e(i,k),e(k,N)},p(n,w){var V;w&1&&b!==(b=((V=n[0].booking)==null?void 0:V.numberOfCurrentVisa)+"")&&F(N,b)},d(n){n&&t(i)}}}function pa(f){var mt,pt,bt,gt,vt,_t,kt,Et,Ct,wt,Nt,Vt,yt,Dt,St,At,It;let i,a,p,E,k,b,N,D,n,w,V,C,Cs,O,L,oe,ws,Ns,z,x,We,re,Xe,Vs,U,Ae=((mt=f[0].booking)==null?void 0:mt.status[0].toUpperCase())+((pt=f[0].booking)==null?void 0:pt.status.slice(1))+"",Ye,Ze,$e,ys,Ds,m,ie,B,Ss,Ie=((bt=f[0].booking)==null?void 0:bt.id.slice(14,-1))+"",es,As,j,ne,Is,Ps,fe,Pe=((gt=f[0].booking)==null?void 0:gt.firstName)+"",ss,Hs,G,ce,Fs,Os,de,He=((vt=f[0].booking)==null?void 0:vt.lastName)+"",ts,zs,q,ue,xs,Ms,he,Fe=((_t=f[0].booking)==null?void 0:_t.birthDate)+"",as,Ls,R,me,Ts,Us,pe,Oe=((kt=f[0].booking)==null?void 0:kt.email)+"",ls,Bs,K,be,js,Gs,ge,ze=((Et=f[0].booking)==null?void 0:Et.citizenship)+"",os,qs,J,ve,Rs,Ks,_e,xe=((Ct=f[0].booking)==null?void 0:Ct.applicants)+"",rs,Js,Q,ke,Qs,Ws,Ee,Me=((wt=f[0].booking)==null?void 0:wt.visaType.slice(0,-2))+"",is,Xs,W,Ce,Ys,Zs,we,Le=((Nt=f[0].booking)==null?void 0:Nt.visa.slice(0,-2))+"",ns,$s,X,Ne,et,st,Ve,Te=((Vt=f[0].booking)==null?void 0:Vt.familyMember)+"",fs,tt,cs,Y,ye,at,lt,De,Ue=((yt=f[0].booking)==null?void 0:yt.currentVisa)+"",ds,ot,us,y,rt,ht,H=f[2]&&Qt();a=new ua({props:{session:f[0].session,form2:f[0].userForm}}),E=new ha({}),n=new fa({props:{src:ca.chevronRight,className:"h-6 w-6 rotate-180 group-hover:-translate-x-1 transition-transform"}});let S=((Dt=f[0].booking)==null?void 0:Dt.status)==="pending"&&Wt(f),A=((St=f[0].booking)==null?void 0:St.status)==="draft"&&Xt(f),I=((At=f[0].booking)==null?void 0:At.cizitenshipOfFamilyMember)&&Yt(f),P=((It=f[0].booking)==null?void 0:It.numberOfCurrentVisa)&&Zt(f);return{c(){H&&H.c(),i=u(),it(a.$$.fragment),p=u(),it(E.$$.fragment),k=u(),b=l("main"),N=l("header"),D=l("a"),it(n.$$.fragment),w=u(),V=l("span"),C=g("Go Back"),Cs=u(),O=l("div"),L=l("div"),oe=l("h4"),ws=g("Status"),Ns=u(),z=l("div"),x=l("div"),S&&S.c(),We=u(),re=l("span"),Vs=u(),U=l("span"),Ye=g(Ae),ys=u(),A&&A.c(),Ds=u(),m=l("section"),ie=l("h2"),B=l("span"),Ss=g("#"),es=g(Ie),As=u(),j=l("div"),ne=l("h4"),Is=g("First Name"),Ps=u(),fe=l("span"),ss=g(Pe),Hs=u(),G=l("div"),ce=l("h4"),Fs=g("Last Name"),Os=u(),de=l("span"),ts=g(He),zs=u(),q=l("div"),ue=l("h4"),xs=g("Birth Date"),Ms=u(),he=l("span"),as=g(Fe),Ls=u(),R=l("div"),me=l("h4"),Ts=g("Email"),Us=u(),pe=l("span"),ls=g(Oe),Bs=u(),K=l("div"),be=l("h4"),js=g("Citizenship"),Gs=u(),ge=l("span"),os=g(ze),qs=u(),J=l("div"),ve=l("h4"),Rs=g("Applicants"),Ks=u(),_e=l("span"),rs=g(xe),Js=u(),Q=l("div"),ke=l("h4"),Qs=g("Visa Type"),Ws=u(),Ee=l("span"),is=g(Me),Xs=u(),W=l("div"),Ce=l("h4"),Ys=g("Visa"),Zs=u(),we=l("span"),ns=g(Le),$s=u(),X=l("div"),Ne=l("h4"),et=g("Family Member"),st=u(),Ve=l("span"),fs=g(Te),tt=u(),I&&I.c(),cs=u(),Y=l("div"),ye=l("h4"),at=g("Current Visa"),lt=u(),De=l("span"),ds=g(Ue),ot=u(),P&&P.c(),this.h()},l(s){H&&H.l(s),i=h(s),nt(a.$$.fragment,s),p=h(s),nt(E.$$.fragment,s),k=h(s),b=o(s,"MAIN",{class:!0});var d=r(b);N=o(d,"HEADER",{class:!0});var T=r(N);D=o(T,"A",{class:!0,href:!0});var Z=r(D);nt(n.$$.fragment,Z),w=h(Z),V=o(Z,"SPAN",{class:!0});var Be=r(V);C=v(Be,"Go Back"),Be.forEach(t),Z.forEach(t),Cs=h(T),O=o(T,"DIV",{class:!0});var $=r(O);L=o($,"DIV",{class:!0});var ee=r(L);oe=o(ee,"H4",{class:!0});var je=r(oe);ws=v(je,"Status"),je.forEach(t),Ns=h(ee),z=o(ee,"DIV",{class:!0});var se=r(z);x=o(se,"DIV",{class:!0});var te=r(x);S&&S.l(te),We=h(te),re=o(te,"SPAN",{class:!0}),r(re).forEach(t),te.forEach(t),Vs=h(se),U=o(se,"SPAN",{class:!0});var Ge=r(U);Ye=v(Ge,Ae),Ge.forEach(t),se.forEach(t),ee.forEach(t),ys=h($),A&&A.l($),$.forEach(t),T.forEach(t),Ds=h(d),m=o(d,"SECTION",{class:!0});var _=r(m);ie=o(_,"H2",{class:!0});var qe=r(ie);B=o(qe,"SPAN",{class:!0});var Se=r(B);Ss=v(Se,"#"),es=v(Se,Ie),Se.forEach(t),qe.forEach(t),As=h(_),j=o(_,"DIV",{});var ae=r(j);ne=o(ae,"H4",{class:!0});var Re=r(ne);Is=v(Re,"First Name"),Re.forEach(t),Ps=h(ae),fe=o(ae,"SPAN",{class:!0});var Ke=r(fe);ss=v(Ke,Pe),Ke.forEach(t),ae.forEach(t),Hs=h(_),G=o(_,"DIV",{});var le=r(G);ce=o(le,"H4",{class:!0});var Je=r(ce);Fs=v(Je,"Last Name"),Je.forEach(t),Os=h(le),de=o(le,"SPAN",{class:!0});var Qe=r(de);ts=v(Qe,He),Qe.forEach(t),le.forEach(t),zs=h(_),q=o(_,"DIV",{});var hs=r(q);ue=o(hs,"H4",{class:!0});var Pt=r(ue);xs=v(Pt,"Birth Date"),Pt.forEach(t),Ms=h(hs),he=o(hs,"SPAN",{class:!0});var Ht=r(he);as=v(Ht,Fe),Ht.forEach(t),hs.forEach(t),Ls=h(_),R=o(_,"DIV",{});var ms=r(R);me=o(ms,"H4",{class:!0});var Ft=r(me);Ts=v(Ft,"Email"),Ft.forEach(t),Us=h(ms),pe=o(ms,"SPAN",{class:!0});var Ot=r(pe);ls=v(Ot,Oe),Ot.forEach(t),ms.forEach(t),Bs=h(_),K=o(_,"DIV",{});var ps=r(K);be=o(ps,"H4",{class:!0});var zt=r(be);js=v(zt,"Citizenship"),zt.forEach(t),Gs=h(ps),ge=o(ps,"SPAN",{class:!0});var xt=r(ge);os=v(xt,ze),xt.forEach(t),ps.forEach(t),qs=h(_),J=o(_,"DIV",{});var bs=r(J);ve=o(bs,"H4",{class:!0});var Mt=r(ve);Rs=v(Mt,"Applicants"),Mt.forEach(t),Ks=h(bs),_e=o(bs,"SPAN",{class:!0});var Lt=r(_e);rs=v(Lt,xe),Lt.forEach(t),bs.forEach(t),Js=h(_),Q=o(_,"DIV",{});var gs=r(Q);ke=o(gs,"H4",{class:!0});var Tt=r(ke);Qs=v(Tt,"Visa Type"),Tt.forEach(t),Ws=h(gs),Ee=o(gs,"SPAN",{class:!0});var Ut=r(Ee);is=v(Ut,Me),Ut.forEach(t),gs.forEach(t),Xs=h(_),W=o(_,"DIV",{});var vs=r(W);Ce=o(vs,"H4",{class:!0});var Bt=r(Ce);Ys=v(Bt,"Visa"),Bt.forEach(t),Zs=h(vs),we=o(vs,"SPAN",{class:!0});var jt=r(we);ns=v(jt,Le),jt.forEach(t),vs.forEach(t),$s=h(_),X=o(_,"DIV",{});var _s=r(X);Ne=o(_s,"H4",{class:!0});var Gt=r(Ne);et=v(Gt,"Family Member"),Gt.forEach(t),st=h(_s),Ve=o(_s,"SPAN",{class:!0});var qt=r(Ve);fs=v(qt,Te),qt.forEach(t),_s.forEach(t),tt=h(_),I&&I.l(_),cs=h(_),Y=o(_,"DIV",{});var ks=r(Y);ye=o(ks,"H4",{class:!0});var Rt=r(ye);at=v(Rt,"Current Visa"),Rt.forEach(t),lt=h(ks),De=o(ks,"SPAN",{class:!0});var Kt=r(De);ds=v(Kt,Ue),Kt.forEach(t),ks.forEach(t),ot=h(_),P&&P.l(_),_.forEach(t),d.forEach(t),this.h()},h(){c(V,"class","text-sm font-semibold"),c(D,"class","group flex items-center gap-3"),c(D,"href","/"),c(oe,"class","text-gray-500"),c(re,"class",Xe="relative inline-flex h-2 w-2 rounded-full "+f[1].bgColor),c(x,"class","relative flex h-3 w-3 items-center"),c(U,"class",Ze="font-medium "+f[1].textColor),c(z,"class",$e="flex w-28 items-center justify-center gap-2 rounded-md px-4 py-2 "+f[1].bgLightColor),c(L,"class","flex items-center gap-4"),c(O,"class","flex justify-between rounded-md border border-gray-100 bg-white p-5 shadow-custom-lg"),c(N,"class","flex w-full flex-col justify-between gap-5 xl:w-7/12 xl:px-0"),c(B,"class","text-xl font-semibold"),c(ie,"class","col-span-2 md:col-span-3"),c(ne,"class","text-gray-500"),c(fe,"class","font-medium"),c(ce,"class","text-gray-500"),c(de,"class","font-medium"),c(ue,"class","text-gray-500"),c(he,"class","font-medium"),c(me,"class","text-gray-500"),c(pe,"class","break-all font-medium"),c(be,"class","text-gray-500"),c(ge,"class","break-all font-medium"),c(ve,"class","text-gray-500"),c(_e,"class","font-medium"),c(ke,"class","text-gray-500"),c(Ee,"class","break-all font-medium"),c(Ce,"class","text-gray-500"),c(we,"class","break-all font-medium"),c(Ne,"class","text-gray-500"),c(Ve,"class","font-medium"),c(ye,"class","text-gray-500"),c(De,"class","font-medium"),c(m,"class","grid w-full justify-between gap-5 rounded-md border border-gray-100 bg-white p-5 py-10 shadow-custom-lg drop-shadow-sm md:auto-cols-fr md:auto-rows-max md:px-14 md:py-10 xl:w-7/12"),c(b,"class",us=(f[2]?"blur":"blur-0")+" flex w-full flex-1 flex-col items-center gap-5 px-4 py-8 transition-all md:px-10 md:py-20 xl:w-7/12 xl:px-0")},m(s,d){H&&H.m(s,d),M(s,i,d),ft(a,s,d),M(s,p,d),ft(E,s,d),M(s,k,d),M(s,b,d),e(b,N),e(N,D),ft(n,D,null),e(D,w),e(D,V),e(V,C),e(N,Cs),e(N,O),e(O,L),e(L,oe),e(oe,ws),e(L,Ns),e(L,z),e(z,x),S&&S.m(x,null),e(x,We),e(x,re),e(z,Vs),e(z,U),e(U,Ye),e(O,ys),A&&A.m(O,null),e(b,Ds),e(b,m),e(m,ie),e(ie,B),e(B,Ss),e(B,es),e(m,As),e(m,j),e(j,ne),e(ne,Is),e(j,Ps),e(j,fe),e(fe,ss),e(m,Hs),e(m,G),e(G,ce),e(ce,Fs),e(G,Os),e(G,de),e(de,ts),e(m,zs),e(m,q),e(q,ue),e(ue,xs),e(q,Ms),e(q,he),e(he,as),e(m,Ls),e(m,R),e(R,me),e(me,Ts),e(R,Us),e(R,pe),e(pe,ls),e(m,Bs),e(m,K),e(K,be),e(be,js),e(K,Gs),e(K,ge),e(ge,os),e(m,qs),e(m,J),e(J,ve),e(ve,Rs),e(J,Ks),e(J,_e),e(_e,rs),e(m,Js),e(m,Q),e(Q,ke),e(ke,Qs),e(Q,Ws),e(Q,Ee),e(Ee,is),e(m,Xs),e(m,W),e(W,Ce),e(Ce,Ys),e(W,Zs),e(W,we),e(we,ns),e(m,$s),e(m,X),e(X,Ne),e(Ne,et),e(X,st),e(X,Ve),e(Ve,fs),e(m,tt),I&&I.m(m,null),e(m,cs),e(m,Y),e(Y,ye),e(ye,at),e(Y,lt),e(Y,De),e(De,ds),e(m,ot),P&&P.m(m,null),y=!0,rt||(ht=$t(window,"click",f[5]),rt=!0)},p(s,[d]){var Z,Be,$,ee,je,se,te,Ge,_,qe,Se,ae,Re,Ke,le,Je,Qe;s[2]?H||(H=Qt(),H.c(),H.m(i.parentNode,i)):H&&(H.d(1),H=null);const T={};d&1&&(T.session=s[0].session),d&1&&(T.form2=s[0].userForm),a.$set(T),((Z=s[0].booking)==null?void 0:Z.status)==="pending"?S?S.p(s,d):(S=Wt(s),S.c(),S.m(x,We)):S&&(S.d(1),S=null),(!y||d&2&&Xe!==(Xe="relative inline-flex h-2 w-2 rounded-full "+s[1].bgColor))&&c(re,"class",Xe),(!y||d&1)&&Ae!==(Ae=((Be=s[0].booking)==null?void 0:Be.status[0].toUpperCase())+(($=s[0].booking)==null?void 0:$.status.slice(1))+"")&&F(Ye,Ae),(!y||d&2&&Ze!==(Ze="font-medium "+s[1].textColor))&&c(U,"class",Ze),(!y||d&2&&$e!==($e="flex w-28 items-center justify-center gap-2 rounded-md px-4 py-2 "+s[1].bgLightColor))&&c(z,"class",$e),((ee=s[0].booking)==null?void 0:ee.status)==="draft"?A?A.p(s,d):(A=Xt(s),A.c(),A.m(O,null)):A&&(A.d(1),A=null),(!y||d&1)&&Ie!==(Ie=((je=s[0].booking)==null?void 0:je.id.slice(14,-1))+"")&&F(es,Ie),(!y||d&1)&&Pe!==(Pe=((se=s[0].booking)==null?void 0:se.firstName)+"")&&F(ss,Pe),(!y||d&1)&&He!==(He=((te=s[0].booking)==null?void 0:te.lastName)+"")&&F(ts,He),(!y||d&1)&&Fe!==(Fe=((Ge=s[0].booking)==null?void 0:Ge.birthDate)+"")&&F(as,Fe),(!y||d&1)&&Oe!==(Oe=((_=s[0].booking)==null?void 0:_.email)+"")&&F(ls,Oe),(!y||d&1)&&ze!==(ze=((qe=s[0].booking)==null?void 0:qe.citizenship)+"")&&F(os,ze),(!y||d&1)&&xe!==(xe=((Se=s[0].booking)==null?void 0:Se.applicants)+"")&&F(rs,xe),(!y||d&1)&&Me!==(Me=((ae=s[0].booking)==null?void 0:ae.visaType.slice(0,-2))+"")&&F(is,Me),(!y||d&1)&&Le!==(Le=((Re=s[0].booking)==null?void 0:Re.visa.slice(0,-2))+"")&&F(ns,Le),(!y||d&1)&&Te!==(Te=((Ke=s[0].booking)==null?void 0:Ke.familyMember)+"")&&F(fs,Te),(le=s[0].booking)!=null&&le.cizitenshipOfFamilyMember?I?I.p(s,d):(I=Yt(s),I.c(),I.m(m,cs)):I&&(I.d(1),I=null),(!y||d&1)&&Ue!==(Ue=((Je=s[0].booking)==null?void 0:Je.currentVisa)+"")&&F(ds,Ue),(Qe=s[0].booking)!=null&&Qe.numberOfCurrentVisa?P?P.p(s,d):(P=Zt(s),P.c(),P.m(m,null)):P&&(P.d(1),P=null),(!y||d&4&&us!==(us=(s[2]?"blur":"blur-0")+" flex w-full flex-1 flex-col items-center gap-5 px-4 py-8 transition-all md:px-10 md:py-20 xl:w-7/12 xl:px-0"))&&c(b,"class",us)},i(s){y||(ct(a.$$.fragment,s),ct(E.$$.fragment,s),ct(n.$$.fragment,s),y=!0)},o(s){dt(a.$$.fragment,s),dt(E.$$.fragment,s),dt(n.$$.fragment,s),y=!1},d(s){H&&H.d(s),s&&t(i),ut(a,s),s&&t(p),ut(E,s),s&&t(k),s&&t(b),ut(n),S&&S.d(),A&&A.d(),I&&I.d(),P&&P.d(),rt=!1,ht()}}}function ba(f,i,a){let p,E,k,b;Es(f,Jt,C=>a(7,E=C)),Es(f,ra,C=>a(8,k=C)),Es(f,da,C=>a(2,b=C)),k.data.session||oa("/login");let{data:N}=i,D=ia(100,{stiffness:.03,damping:.4});Es(f,D,C=>a(4,p=C));const n={bgLightColor:"bg-light-draft",bgColor:"draft",borderColor:"draft",textColor:"draft"},w=C=>na(C,D),V=()=>ma.error("Can't delete yet!");return f.$$set=C=>{"data"in C&&a(0,N=C.data)},f.$$.update=()=>{var C;if(f.$$.dirty&16&&aa(Jt,E=p,E),f.$$.dirty&1)switch((C=N.booking)==null?void 0:C.status){case"draft":a(1,n.bgLightColor="bg-light-draft",n),a(1,n.bgColor="bg-draft",n),a(1,n.textColor="text-draft",n),a(1,n.borderColor="hover:border-draft",n);break;case"pending":a(1,n.bgLightColor="bg-light-pending",n),a(1,n.bgColor="bg-pending",n),a(1,n.textColor="text-pending",n),a(1,n.borderColor="hover:border-pending",n);break;case"done":a(1,n.bgLightColor="bg-light-done",n),a(1,n.bgColor="bg-done",n),a(1,n.textColor="text-done",n),a(1,n.borderColor="hover:border-done",n);break}},[N,n,b,D,p,w,V]}class Na extends ea{constructor(i){super(),sa(this,i,ba,pa,ta,{data:0})}}export{Na as default};
